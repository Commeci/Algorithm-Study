# 괄호 회전하기

**[\[문제 링크\]](https://school.programmers.co.kr/learn/courses/30/lessons/76502)**

## 문제 설명

> (), [], {} 는 모두 올바른 괄호 문자열입니다.  
> 만약 A가 올바른 괄호 문자열이라면, (A), [A], {A} 도 올바른 괄호 문자열입니다. 예를 들어, [] 가 올바른 괄호 문자열이므로, ([]) 도 올바른 괄호 문자열입니다.  
> 만약 A, B가 올바른 괄호 문자열이라면, AB 도 올바른 괄호 문자열입니다. 예를 들어, {} 와 ([]) 가 올바른 괄호 문자열이므로, {}([]) 도 올바른 괄호 문자열입니다.

> 대괄호, 중괄호, 그리고 소괄호로 이루어진 문자열 s가 매개변수로 주어집니다. 이 s를 왼쪽으로 x (0 ≤ x < (s의 길이)) 칸만큼 회전시켰을 때 s가 올바른 괄호 문자열이 되게 하는 x의 개수를 return 하도록 solution 함수를 완성해주세요.

**제한사항**  
s의 길이는 1이상 1000이하

## 예제 입/출력

### 예제1

**입력**

```
"[](){}"
```

**출력**

```
3
```

### 예제2

**입력**

```
"}]()[{"
```

**출력**

```
2
```

### 예제3

**입력**

```
"[)(]"
```

**출력**

```
0
```

### 예제4

**입력**

```
"}}}"
```

**출력**

```
0
```

## 접근 방식

### 시간 복잡도

- **O(N^2)**
- 첫번째 요소를 마지막으로 보내는 횟수 N
- 그것을 기반으로 만들어진 배열을 순회하는 횟수 N
- O(N \* N) = O(N^2)

### 자료구조

- **배열, 스택**
- 문자열을 배열로 바꾸기 위한 Array.from을 사용
- 괄호가 올바른지 판단하기 위해 스택 사용

### 알고리즘

- **없음**
- [이유]

## 소스 코드

```javascript
function solution(s) {
  var answer = 0;
  s = Array.from(s); // 문자열을 배열로 변환

  for (let i = 0; i < s.length; ++i) {
    const stack = [];
    let flag = true;
    s.push(s.shift()); // 맨 앞의 것을 맨 뒤로 삽입

    for (let j = 0; j < s.length; ++j) {
      // 아스키 코드를 삽입
      if (s[j] === '(' || s[j] === '[' || s[j] === '{') stack.push(s[j].charCodeAt(0));
      // 차이가 2이하면 같은 쌍
      else if (stack[stack.length - 1] - s[j].charCodeAt(0) <= 2) stack.pop();
      // 닫는 괄호인데 스택이 비었으면 올바르지 않은 괄호임
      else flag = false;
    }
    if (!stack.length && flag) answer++;
  }

  return answer;
}
```
